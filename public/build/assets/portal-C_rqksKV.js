import{A as m,g as F,k as j,i as P,o as g}from"./keyboard-DOiN-3vE.js";import{l as c,s as T,m as p,x as H,q as b,A as v,h as A,y as O,bz as R,z as C,Q as k,aZ as B,ap as L}from"./app-BbGHnGNq.js";var N=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(N||{});let M=c({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{var r;let{features:s,...o}=e,a={"aria-hidden":(s&2)===2?!0:(r=o["aria-hidden"])!=null?r:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return m({ourProps:a,theirProps:o,slot:{},attrs:n,slots:t,name:"Hidden"})}}});function U(e,t,n,r){F.isServer||T(s=>{e=e??window,e.addEventListener(t,n,r),s(()=>e.removeEventListener(t,n,r))})}var I=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(I||{});function W(){let e=p(0);return j("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function D({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){let r=p(null),s=P(r);function o(){var a,u,f;let i=[];for(let l of e)l!==null&&(l instanceof HTMLElement?i.push(l):"value"in l&&l.value instanceof HTMLElement&&i.push(l.value));if(t!=null&&t.value)for(let l of t.value)i.push(l);for(let l of(a=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])l!==document.body&&l!==document.head&&l instanceof HTMLElement&&l.id!=="headlessui-portal-root"&&(l.contains(g(r))||l.contains((f=(u=g(r))==null?void 0:u.getRootNode())==null?void 0:f.host)||i.some(h=>l.contains(h))||i.push(l));return i}return{resolveContainers:o,contains(a){return o().some(u=>u.contains(a))},mainTreeNodeRef:r,MainTreeNode(){return n!=null?null:H(M,{features:N.Hidden,ref:r})}}}let S=Symbol("ForcePortalRootContext");function $(){return v(S,!1)}let K=c({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return b(S,e.force),()=>{let{force:r,...s}=e;return m({theirProps:s,ourProps:{},slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}});function G(e){let t=P(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=t.getElementById("headlessui-portal-root");if(n)return n;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}let Q=c({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=p(null),s=A(()=>P(r)),o=$(),a=v(x,null),u=p(o===!0||a==null?G(r.value):a.resolveTarget()),f=p(!1);O(()=>{f.value=!0}),T(()=>{o||a!=null&&(u.value=a.resolveTarget())});let i=v(y,null),l=!1,h=L();return R(r,()=>{if(l||!i)return;let d=g(r);d&&(C(i.register(d),h),l=!0)}),C(()=>{var d,w;let E=(d=s.value)==null?void 0:d.getElementById("headlessui-portal-root");E&&u.value===E&&u.value.children.length<=0&&((w=u.value.parentElement)==null||w.removeChild(u.value))}),()=>{if(!f.value||u.value===null)return null;let d={ref:r,"data-headlessui-portal":""};return H(k,{to:u.value},m({ourProps:d,theirProps:e,slot:{},attrs:n,slots:t,name:"Portal"}))}}}),y=Symbol("PortalParentContext");function Z(){let e=v(y,null),t=p([]);function n(o){return t.value.push(o),e&&e.register(o),()=>r(o)}function r(o){let a=t.value.indexOf(o);a!==-1&&t.value.splice(a,1),e&&e.unregister(o)}let s={register:n,unregister:r,portals:t};return[t,c({name:"PortalWrapper",setup(o,{slots:a}){return b(y,s),()=>{var u;return(u=a.default)==null?void 0:u.call(a)}}})]}let x=Symbol("PortalGroupContext"),_=c({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=B({resolveTarget(){return e.target}});return b(x,r),()=>{let{target:s,...o}=e;return m({theirProps:o,ourProps:{},slot:{},attrs:t,slots:n,name:"PortalGroup"})}}});export{Z as A,U as E,D as N,Q as _,_ as a,K as b,I as d,M as f,W as n,N as u};
