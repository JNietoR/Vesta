import{l as W,m as F,h as $,q as ne,s as ee,x as O,F as z,y as re,z as se,A as te,T as me,o as H,f as U,a as k,u as S,w as T,Z as be,b as P,n as ge,B as ye,e as he,i as Pe,C as Se,t as ae,g as xe,D as we,k as _e,d as $e}from"./app-BbGHnGNq.js";import{_ as Ee}from"./AuthenticatedLayout-wfoWt9ZO.js";import{A as ke,N as Fe,E as Ie,n as ue,f as J,u as Q,d as C}from"./portal-C_rqksKV.js";import{i as le,o,E as oe,u as G,t as Ce,a as V,w as Be,b as Oe,h as Te,A as Y,I as M,l as ie,N as q,P as D,c as B,d as N,T as X}from"./keyboard-DOiN-3vE.js";import{s as Ne}from"./use-resolve-button-type-BD4hKTu7.js";import{r as De}from"./PlusIcon-Bkb3dT8Q.js";import"./ApplicationLogo-D-YCwO0f.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";var Ae=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(Ae||{});let pe=Symbol("PopoverContext");function Z(s){let u=te(pe,null);if(u===null){let f=new Error(`<${s} /> is missing a parent <${ve.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,Z),f}return u}let je=Symbol("PopoverGroupContext");function ce(){return te(je,null)}let de=Symbol("PopoverPanelContext");function Le(){return te(de,null)}let ve=W({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(s,{slots:u,attrs:f,expose:b}){var g;let c=F(null);b({el:c,$el:c});let l=F(1),t=F(null),x=F(null),w=F(null),y=F(null),m=$(()=>le(c)),_=$(()=>{var e,n;if(!o(t)||!o(y))return!1;for(let R of document.querySelectorAll("body > *"))if(Number(R==null?void 0:R.contains(o(t)))^Number(R==null?void 0:R.contains(o(y))))return!0;let a=oe(),d=a.indexOf(o(t)),E=(d+a.length-1)%a.length,I=(d+1)%a.length,K=a[E],fe=a[I];return!((e=o(y))!=null&&e.contains(K))&&!((n=o(y))!=null&&n.contains(fe))}),v={popoverState:l,buttonId:F(null),panelId:F(null),panel:y,button:t,isPortalled:_,beforePanelSentinel:x,afterPanelSentinel:w,togglePopover(){l.value=G(l.value,{0:1,1:0})},closePopover(){l.value!==1&&(l.value=1)},close(e){v.closePopover();let n=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?o(e):o(v.button):o(v.button);n==null||n.focus()}};ne(pe,v),Ce($(()=>G(l.value,{0:V.Open,1:V.Closed})));let A={buttonId:v.buttonId,panelId:v.panelId,close(){v.closePopover()}},h=ce(),j=h==null?void 0:h.registerPopover,[L,i]=ke(),p=Fe({mainTreeNodeRef:h==null?void 0:h.mainTreeNodeRef,portals:L,defaultContainers:[t,y]});function r(){var e,n,a,d;return(d=h==null?void 0:h.isFocusWithinPopoverGroup())!=null?d:((e=m.value)==null?void 0:e.activeElement)&&(((n=o(t))==null?void 0:n.contains(m.value.activeElement))||((a=o(y))==null?void 0:a.contains(m.value.activeElement)))}return ee(()=>j==null?void 0:j(A)),Ie((g=m.value)==null?void 0:g.defaultView,"focus",e=>{var n,a;e.target!==window&&e.target instanceof HTMLElement&&l.value===0&&(r()||t&&y&&(p.contains(e.target)||(n=o(v.beforePanelSentinel))!=null&&n.contains(e.target)||(a=o(v.afterPanelSentinel))!=null&&a.contains(e.target)||v.closePopover()))},!0),Be(p.resolveContainers,(e,n)=>{var a;v.closePopover(),Oe(n,Te.Loose)||(e.preventDefault(),(a=o(t))==null||a.focus())},$(()=>l.value===0)),()=>{let e={open:l.value===0,close:v.close};return O(z,[O(i,{},()=>Y({theirProps:{...s,...f},ourProps:{ref:c},slot:e,slots:u,attrs:f,name:"Popover"})),O(p.MainTreeNode)])}}}),Me=W({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(s,{attrs:u,slots:f,expose:b}){var g;let c=(g=s.id)!=null?g:`headlessui-popover-button-${M()}`,l=Z("PopoverButton"),t=$(()=>le(l.button));b({el:l.button,$el:l.button}),re(()=>{l.buttonId.value=c}),se(()=>{l.buttonId.value=null});let x=ce(),w=x==null?void 0:x.closeOthers,y=Le(),m=$(()=>y===null?!1:y.value===l.panelId.value),_=F(null),v=`headlessui-focus-sentinel-${M()}`;m.value||ee(()=>{l.button.value=o(_)});let A=Ne($(()=>({as:s.as,type:u.type})),_);function h(e){var n,a,d,E,I;if(m.value){if(l.popoverState.value===1)return;switch(e.key){case N.Space:case N.Enter:e.preventDefault(),(a=(n=e.target).click)==null||a.call(n),l.closePopover(),(d=o(l.button))==null||d.focus();break}}else switch(e.key){case N.Space:case N.Enter:e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&(w==null||w(l.buttonId.value)),l.togglePopover();break;case N.Escape:if(l.popoverState.value!==0)return w==null?void 0:w(l.buttonId.value);if(!o(l.button)||(E=t.value)!=null&&E.activeElement&&!((I=o(l.button))!=null&&I.contains(t.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),l.closePopover();break}}function j(e){m.value||e.key===N.Space&&e.preventDefault()}function L(e){var n,a;s.disabled||(m.value?(l.closePopover(),(n=o(l.button))==null||n.focus()):(e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&(w==null||w(l.buttonId.value)),l.togglePopover(),(a=o(l.button))==null||a.focus()))}function i(e){e.preventDefault(),e.stopPropagation()}let p=ue();function r(){let e=o(l.panel);if(!e)return;function n(){G(p.value,{[C.Forwards]:()=>D(e,B.First),[C.Backwards]:()=>D(e,B.Last)})===X.Error&&D(oe().filter(a=>a.dataset.headlessuiFocusGuard!=="true"),G(p.value,{[C.Forwards]:B.Next,[C.Backwards]:B.Previous}),{relativeTo:o(l.button)})}n()}return()=>{let e=l.popoverState.value===0,n={open:e},{...a}=s,d=m.value?{ref:_,type:A.value,onKeydown:h,onClick:L}:{ref:_,id:c,type:A.value,"aria-expanded":l.popoverState.value===0,"aria-controls":o(l.panel)?l.panelId.value:void 0,disabled:s.disabled?!0:void 0,onKeydown:h,onKeyup:j,onClick:L,onMousedown:i};return O(z,[Y({ourProps:d,theirProps:{...u,...a},slot:n,attrs:u,slots:f,name:"PopoverButton"}),e&&!m.value&&l.isPortalled.value&&O(J,{id:v,features:Q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:r})])}}}),Ge=W({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(s,{attrs:u,slots:f}){let b=Z("PopoverOverlay"),g=`headlessui-popover-overlay-${M()}`,c=ie(),l=$(()=>c!==null?(c.value&V.Open)===V.Open:b.popoverState.value===0);function t(){b.closePopover()}return()=>{let x={open:b.popoverState.value===0};return Y({ourProps:{id:g,"aria-hidden":!0,onClick:t},theirProps:s,slot:x,attrs:u,slots:f,features:q.RenderStrategy|q.Static,visible:l.value,name:"PopoverOverlay"})}}}),Ve=W({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(s,{attrs:u,slots:f,expose:b}){var g;let c=(g=s.id)!=null?g:`headlessui-popover-panel-${M()}`,{focus:l}=s,t=Z("PopoverPanel"),x=$(()=>le(t.panel)),w=`headlessui-focus-sentinel-before-${M()}`,y=`headlessui-focus-sentinel-after-${M()}`;b({el:t.panel,$el:t.panel}),re(()=>{t.panelId.value=c}),se(()=>{t.panelId.value=null}),ne(de,t.panelId),ee(()=>{var i,p;if(!l||t.popoverState.value!==0||!t.panel)return;let r=(i=x.value)==null?void 0:i.activeElement;(p=o(t.panel))!=null&&p.contains(r)||D(o(t.panel),B.First)});let m=ie(),_=$(()=>m!==null?(m.value&V.Open)===V.Open:t.popoverState.value===0);function v(i){var p,r;switch(i.key){case N.Escape:if(t.popoverState.value!==0||!o(t.panel)||x.value&&!((p=o(t.panel))!=null&&p.contains(x.value.activeElement)))return;i.preventDefault(),i.stopPropagation(),t.closePopover(),(r=o(t.button))==null||r.focus();break}}function A(i){var p,r,e,n,a;let d=i.relatedTarget;d&&o(t.panel)&&((p=o(t.panel))!=null&&p.contains(d)||(t.closePopover(),((e=(r=o(t.beforePanelSentinel))==null?void 0:r.contains)!=null&&e.call(r,d)||(a=(n=o(t.afterPanelSentinel))==null?void 0:n.contains)!=null&&a.call(n,d))&&d.focus({preventScroll:!0})))}let h=ue();function j(){let i=o(t.panel);if(!i)return;function p(){G(h.value,{[C.Forwards]:()=>{var r;D(i,B.First)===X.Error&&((r=o(t.afterPanelSentinel))==null||r.focus())},[C.Backwards]:()=>{var r;(r=o(t.button))==null||r.focus({preventScroll:!0})}})}p()}function L(){let i=o(t.panel);if(!i)return;function p(){G(h.value,{[C.Forwards]:()=>{let r=o(t.button),e=o(t.panel);if(!r)return;let n=oe(),a=n.indexOf(r),d=n.slice(0,a+1),E=[...n.slice(a+1),...d];for(let I of E.slice())if(I.dataset.headlessuiFocusGuard==="true"||e!=null&&e.contains(I)){let K=E.indexOf(I);K!==-1&&E.splice(K,1)}D(E,B.First,{sorted:!1})},[C.Backwards]:()=>{var r;D(i,B.Previous)===X.Error&&((r=o(t.button))==null||r.focus())}})}p()}return()=>{let i={open:t.popoverState.value===0,close:t.close},{focus:p,...r}=s,e={ref:t.panel,id:c,onKeydown:v,onFocusout:l&&t.popoverState.value===0?A:void 0,tabIndex:-1};return Y({ourProps:e,theirProps:{...u,...r},attrs:u,slot:i,slots:{...f,default:(...n)=>{var a;return[O(z,[_.value&&t.isPortalled.value&&O(J,{id:w,ref:t.beforePanelSentinel,features:Q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:j}),(a=f.default)==null?void 0:a.call(f,...n),_.value&&t.isPortalled.value&&O(J,{id:y,ref:t.afterPanelSentinel,features:Q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:L})])]}},features:q.RenderStrategy|q.Static,visible:_.value,name:"PopoverPanel"})}}});const ze={class:"flex items-center px-3 justify-between"},Ke=P("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"Boards",-1),Re=P("span",{class:"ml-1"},"Create board",-1),He={class:"p-3 bg-white overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5"},Ue=["onSubmit"],qe=P("label",{class:"block text-sm text-gray-600 font-medium mb-1",for:"name"},"Your new board:",-1),We={key:0,class:"text-sm text-red-600"},Ye=P("div",{class:"flex justify-end mt-2"},[P("button",{class:"px-4 py-2 text-sm font-medium text-white bg-gray-400 hover:bg-gray-500 rounded-md shadow-sm focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 focus:outline-none"},"Create board")],-1),Ze={class:"px-4 py-6 h-full overflow-y-auto min-h-96"},Je={class:"mx-auto max-w-5xl"},Qe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},st={__name:"Index",props:{boards:Array},setup(s){const u=me({name:""});function f(b){u.post(route("boards.store"),{onSuccess:()=>{u.reset(),b()}})}return(b,g)=>(H(),U(z,null,[k(S(be),{title:"Boards"}),k(Ee,null,{header:T(()=>[P("div",ze,[Ke,k(S(ve),{class:"relative"},{default:T(({open:c})=>[k(S(Me),{class:ge([c?"bg-blue-50 text-blue-600":"","inline-flex items-center px-3 py-2 font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200"])},{default:T(()=>[k(S(De),{class:"w-4 h-4"}),Re]),_:2},1032,["class"]),k(S(Ge),{class:"z-10 bg-black opacity-30 fixed inset-0"}),k(ye,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:T(()=>[k(S(Ve),{focus:!0,class:"absolute z-10 w-72 px-4 mt-3 -translate-x-1/2 left-1/2 sm:px-0"},{default:T(({close:l})=>[P("div",He,[P("form",{onSubmit:he(t=>f(l),["prevent"])},[qe,Pe(P("input",{id:"name","onUpdate:modelValue":g[0]||(g[0]=t=>S(u).name=t),class:"block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-400 focus:ring-blue-400",name:"name",placeholder:"Board name",type:"text"},null,512),[[Se,S(u).name]]),S(u).errors.name?(H(),U("p",We,ae(S(u).errors.name),1)):xe("",!0),Ye],40,Ue)])]),_:1})]),_:1})]),_:1})])]),default:T(()=>[P("div",Ze,[P("div",Je,[P("ul",Qe,[(H(!0),U(z,null,we(s.boards,c=>(H(),U("li",{key:c.id,class:"relative bg-gray-400 hover:bg-gray-500 rounded-md min-h-[7rem]"},[k(S(_e),{href:b.route("boards.show",{board:c.id}),class:"absolute inset-0 p-3 text-lg font-bold text-white"},{default:T(()=>[$e(ae(c.name),1)]),_:2},1032,["href"])]))),128))])])])]),_:1})],64))}};export{st as default};
