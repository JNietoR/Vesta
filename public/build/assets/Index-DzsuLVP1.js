import{k as W,l as F,h as $,p as ne,m as ee,q as O,F as z,s as re,x as se,y as te,T as me,o as H,f as U,a as E,u as S,w as j,Z as be,b as P,n as ge,z as ye,e as he,i as Pe,A as Se,t as ae,g as xe,B as we,j as _e,d as $e}from"./app-CN57BRrp.js";import{_ as ke}from"./AuthenticatedLayout-lgdN_H86.js";import{A as Ee,N as Fe,E as Ie,n as ue,f as J,u as Q,d as C}from"./portal-iH-X3K-G.js";import{i as le,o,E as oe,u as G,t as Ce,a as V,w as Be,b as Oe,h as Te,A as Y,I as L,l as ie,N as q,P as N,c as B,d as T,T as X}from"./keyboard-Dv8yD9lU.js";import{s as Ne}from"./use-resolve-button-type-xg8prnST.js";import{r as De}from"./PlusIcon-B5atDN80.js";import"./ApplicationLogo-DYTysOB0.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";var Ae=(s=>(s[s.Open=0]="Open",s[s.Closed=1]="Closed",s))(Ae||{});let pe=Symbol("PopoverContext");function Z(s){let u=te(pe,null);if(u===null){let f=new Error(`<${s} /> is missing a parent <${ve.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(f,Z),f}return u}let Me=Symbol("PopoverGroupContext");function ce(){return te(Me,null)}let de=Symbol("PopoverPanelContext");function je(){return te(de,null)}let ve=W({name:"Popover",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"}},setup(s,{slots:u,attrs:f,expose:b}){var g;let c=F(null);b({el:c,$el:c});let l=F(1),t=F(null),x=F(null),w=F(null),y=F(null),m=$(()=>le(c)),_=$(()=>{var e,n;if(!o(t)||!o(y))return!1;for(let R of document.querySelectorAll("body > *"))if(Number(R==null?void 0:R.contains(o(t)))^Number(R==null?void 0:R.contains(o(y))))return!0;let a=oe(),d=a.indexOf(o(t)),k=(d+a.length-1)%a.length,I=(d+1)%a.length,K=a[k],fe=a[I];return!((e=o(y))!=null&&e.contains(K))&&!((n=o(y))!=null&&n.contains(fe))}),v={popoverState:l,buttonId:F(null),panelId:F(null),panel:y,button:t,isPortalled:_,beforePanelSentinel:x,afterPanelSentinel:w,togglePopover(){l.value=G(l.value,{0:1,1:0})},closePopover(){l.value!==1&&(l.value=1)},close(e){v.closePopover();let n=e?e instanceof HTMLElement?e:e.value instanceof HTMLElement?o(e):o(v.button):o(v.button);n==null||n.focus()}};ne(pe,v),Ce($(()=>G(l.value,{0:V.Open,1:V.Closed})));let D={buttonId:v.buttonId,panelId:v.panelId,close(){v.closePopover()}},h=ce(),A=h==null?void 0:h.registerPopover,[M,i]=Ee(),p=Fe({mainTreeNodeRef:h==null?void 0:h.mainTreeNodeRef,portals:M,defaultContainers:[t,y]});function r(){var e,n,a,d;return(d=h==null?void 0:h.isFocusWithinPopoverGroup())!=null?d:((e=m.value)==null?void 0:e.activeElement)&&(((n=o(t))==null?void 0:n.contains(m.value.activeElement))||((a=o(y))==null?void 0:a.contains(m.value.activeElement)))}return ee(()=>A==null?void 0:A(D)),Ie((g=m.value)==null?void 0:g.defaultView,"focus",e=>{var n,a;e.target!==window&&e.target instanceof HTMLElement&&l.value===0&&(r()||t&&y&&(p.contains(e.target)||(n=o(v.beforePanelSentinel))!=null&&n.contains(e.target)||(a=o(v.afterPanelSentinel))!=null&&a.contains(e.target)||v.closePopover()))},!0),Be(p.resolveContainers,(e,n)=>{var a;v.closePopover(),Oe(n,Te.Loose)||(e.preventDefault(),(a=o(t))==null||a.focus())},$(()=>l.value===0)),()=>{let e={open:l.value===0,close:v.close};return O(z,[O(i,{},()=>Y({theirProps:{...s,...f},ourProps:{ref:c},slot:e,slots:u,attrs:f,name:"Popover"})),O(p.MainTreeNode)])}}}),Le=W({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(s,{attrs:u,slots:f,expose:b}){var g;let c=(g=s.id)!=null?g:`headlessui-popover-button-${L()}`,l=Z("PopoverButton"),t=$(()=>le(l.button));b({el:l.button,$el:l.button}),re(()=>{l.buttonId.value=c}),se(()=>{l.buttonId.value=null});let x=ce(),w=x==null?void 0:x.closeOthers,y=je(),m=$(()=>y===null?!1:y.value===l.panelId.value),_=F(null),v=`headlessui-focus-sentinel-${L()}`;m.value||ee(()=>{l.button.value=o(_)});let D=Ne($(()=>({as:s.as,type:u.type})),_);function h(e){var n,a,d,k,I;if(m.value){if(l.popoverState.value===1)return;switch(e.key){case T.Space:case T.Enter:e.preventDefault(),(a=(n=e.target).click)==null||a.call(n),l.closePopover(),(d=o(l.button))==null||d.focus();break}}else switch(e.key){case T.Space:case T.Enter:e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&(w==null||w(l.buttonId.value)),l.togglePopover();break;case T.Escape:if(l.popoverState.value!==0)return w==null?void 0:w(l.buttonId.value);if(!o(l.button)||(k=t.value)!=null&&k.activeElement&&!((I=o(l.button))!=null&&I.contains(t.value.activeElement)))return;e.preventDefault(),e.stopPropagation(),l.closePopover();break}}function A(e){m.value||e.key===T.Space&&e.preventDefault()}function M(e){var n,a;s.disabled||(m.value?(l.closePopover(),(n=o(l.button))==null||n.focus()):(e.preventDefault(),e.stopPropagation(),l.popoverState.value===1&&(w==null||w(l.buttonId.value)),l.togglePopover(),(a=o(l.button))==null||a.focus()))}function i(e){e.preventDefault(),e.stopPropagation()}let p=ue();function r(){let e=o(l.panel);if(!e)return;function n(){G(p.value,{[C.Forwards]:()=>N(e,B.First),[C.Backwards]:()=>N(e,B.Last)})===X.Error&&N(oe().filter(a=>a.dataset.headlessuiFocusGuard!=="true"),G(p.value,{[C.Forwards]:B.Next,[C.Backwards]:B.Previous}),{relativeTo:o(l.button)})}n()}return()=>{let e=l.popoverState.value===0,n={open:e},{...a}=s,d=m.value?{ref:_,type:D.value,onKeydown:h,onClick:M}:{ref:_,id:c,type:D.value,"aria-expanded":l.popoverState.value===0,"aria-controls":o(l.panel)?l.panelId.value:void 0,disabled:s.disabled?!0:void 0,onKeydown:h,onKeyup:A,onClick:M,onMousedown:i};return O(z,[Y({ourProps:d,theirProps:{...u,...a},slot:n,attrs:u,slots:f,name:"PopoverButton"}),e&&!m.value&&l.isPortalled.value&&O(J,{id:v,features:Q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:r})])}}}),Ge=W({name:"PopoverOverlay",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(s,{attrs:u,slots:f}){let b=Z("PopoverOverlay"),g=`headlessui-popover-overlay-${L()}`,c=ie(),l=$(()=>c!==null?(c.value&V.Open)===V.Open:b.popoverState.value===0);function t(){b.closePopover()}return()=>{let x={open:b.popoverState.value===0};return Y({ourProps:{id:g,"aria-hidden":!0,onClick:t},theirProps:s,slot:x,attrs:u,slots:f,features:q.RenderStrategy|q.Static,visible:l.value,name:"PopoverOverlay"})}}}),Ve=W({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:null}},inheritAttrs:!1,setup(s,{attrs:u,slots:f,expose:b}){var g;let c=(g=s.id)!=null?g:`headlessui-popover-panel-${L()}`,{focus:l}=s,t=Z("PopoverPanel"),x=$(()=>le(t.panel)),w=`headlessui-focus-sentinel-before-${L()}`,y=`headlessui-focus-sentinel-after-${L()}`;b({el:t.panel,$el:t.panel}),re(()=>{t.panelId.value=c}),se(()=>{t.panelId.value=null}),ne(de,t.panelId),ee(()=>{var i,p;if(!l||t.popoverState.value!==0||!t.panel)return;let r=(i=x.value)==null?void 0:i.activeElement;(p=o(t.panel))!=null&&p.contains(r)||N(o(t.panel),B.First)});let m=ie(),_=$(()=>m!==null?(m.value&V.Open)===V.Open:t.popoverState.value===0);function v(i){var p,r;switch(i.key){case T.Escape:if(t.popoverState.value!==0||!o(t.panel)||x.value&&!((p=o(t.panel))!=null&&p.contains(x.value.activeElement)))return;i.preventDefault(),i.stopPropagation(),t.closePopover(),(r=o(t.button))==null||r.focus();break}}function D(i){var p,r,e,n,a;let d=i.relatedTarget;d&&o(t.panel)&&((p=o(t.panel))!=null&&p.contains(d)||(t.closePopover(),((e=(r=o(t.beforePanelSentinel))==null?void 0:r.contains)!=null&&e.call(r,d)||(a=(n=o(t.afterPanelSentinel))==null?void 0:n.contains)!=null&&a.call(n,d))&&d.focus({preventScroll:!0})))}let h=ue();function A(){let i=o(t.panel);if(!i)return;function p(){G(h.value,{[C.Forwards]:()=>{var r;N(i,B.First)===X.Error&&((r=o(t.afterPanelSentinel))==null||r.focus())},[C.Backwards]:()=>{var r;(r=o(t.button))==null||r.focus({preventScroll:!0})}})}p()}function M(){let i=o(t.panel);if(!i)return;function p(){G(h.value,{[C.Forwards]:()=>{let r=o(t.button),e=o(t.panel);if(!r)return;let n=oe(),a=n.indexOf(r),d=n.slice(0,a+1),k=[...n.slice(a+1),...d];for(let I of k.slice())if(I.dataset.headlessuiFocusGuard==="true"||e!=null&&e.contains(I)){let K=k.indexOf(I);K!==-1&&k.splice(K,1)}N(k,B.First,{sorted:!1})},[C.Backwards]:()=>{var r;N(i,B.Previous)===X.Error&&((r=o(t.button))==null||r.focus())}})}p()}return()=>{let i={open:t.popoverState.value===0,close:t.close},{focus:p,...r}=s,e={ref:t.panel,id:c,onKeydown:v,onFocusout:l&&t.popoverState.value===0?D:void 0,tabIndex:-1};return Y({ourProps:e,theirProps:{...u,...r},attrs:u,slot:i,slots:{...f,default:(...n)=>{var a;return[O(z,[_.value&&t.isPortalled.value&&O(J,{id:w,ref:t.beforePanelSentinel,features:Q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:A}),(a=f.default)==null?void 0:a.call(f,...n),_.value&&t.isPortalled.value&&O(J,{id:y,ref:t.afterPanelSentinel,features:Q.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:M})])]}},features:q.RenderStrategy|q.Static,visible:_.value,name:"PopoverPanel"})}}});const ze={class:"px-4 py-6 h-full bg-gray-50 overflow-y-auto"},Ke={class:"mx-auto max-w-5xl"},Re={class:"flex items-center px-3 mb-4"},He=P("h3",{class:"font-black text-gray-700"},"My boards",-1),Ue=P("span",{class:"ml-1"},"Create board",-1),qe={class:"p-3 bg-white overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5"},We=["onSubmit"],Ye=P("label",{class:"block text-sm text-gray-600 font-medium mb-1",for:"name"},"Your new board:",-1),Ze={key:0,class:"text-sm text-red-600"},Je=P("div",{class:"flex justify-end mt-2"},[P("button",{class:"px-4 py-2 text-sm font-medium text-white bg-rose-600 hover:bg-rose-500 rounded-md shadow-sm focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 focus:outline-none"},"Create board")],-1),Qe={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4"},st={__name:"Index",props:{boards:Array},setup(s){const u=me({name:""});function f(b){u.post(route("boards.store"),{onSuccess:()=>{u.reset(),b()}})}return(b,g)=>(H(),U(z,null,[E(S(be),{title:"Boards"}),E(ke,null,{default:j(()=>[P("div",ze,[P("div",Ke,[P("div",Re,[He,E(S(ve),{class:"relative"},{default:j(({open:c})=>[E(S(Le),{class:ge([c?"bg-blue-50 text-blue-600":"","inline-flex items-center px-3 py-2 ml-4 font-medium text-gray-700 bg-gray-100 rounded hover:bg-gray-200"])},{default:j(()=>[E(S(De),{class:"-ml-1 w-4 h-4"}),Ue]),_:2},1032,["class"]),E(S(Ge),{class:"z-10 bg-black opacity-30 fixed inset-0"}),E(ye,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:j(()=>[E(S(Ve),{focus:!0,class:"absolute z-10 w-72 px-4 mt-3 -translate-x-1/2 left-1/2 sm:px-0"},{default:j(({close:l})=>[P("div",qe,[P("form",{onSubmit:he(t=>f(l),["prevent"])},[Ye,Pe(P("input",{id:"name","onUpdate:modelValue":g[0]||(g[0]=t=>S(u).name=t),class:"block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-400 focus:ring-blue-400",name:"name",placeholder:"Board name",type:"text"},null,512),[[Se,S(u).name]]),S(u).errors.name?(H(),U("p",Ze,ae(S(u).errors.name),1)):xe("",!0),Je],40,We)])]),_:1})]),_:1})]),_:1})]),P("ul",Qe,[(H(!0),U(z,null,we(s.boards,c=>(H(),U("li",{key:c.id,class:"relative bg-blue-600 hover:bg-blue-700 rounded-md min-h-[7rem]"},[E(S(_e),{href:b.route("boards.show",{board:c.id}),class:"absolute inset-0 p-3 text-lg font-bold text-white"},{default:j(()=>[$e(ae(c.name),1)]),_:2},1032,["href"])]))),128))])])])]),_:1})],64))}};export{st as default};
