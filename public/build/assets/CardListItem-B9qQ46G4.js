import{m as w,h,T as x,o as i,f as u,b as r,bE as f,e as m,i as y,C as k,u as a,g as p,F as C,a as b,w as S,G as I,d as T,t as V,k as $,p as F,j as N}from"./app-CZ3ZJDdk.js";import{s as B}from"./store-COFRJFsU.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as K}from"./PencilIcon-7UT64Y5e.js";const j=t=>(F("data-v-c4d7c6dd"),t=t(),N(),t),D={class:"group relative bg-white shadow rounded-md border-b border-gray-300 hover:bg-gray-50"},L={class:"mt-2 space-x-2"},M=j(()=>r("button",{class:"px-4 py-2 text-sm font-medium text-white bg-rose-600 hover:bg-rose-500 rounded-md shadow-sm focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 focus:outline-none",type:"submit"},"Save card ",-1)),R={__name:"CardListItem",props:{card:Object},setup(t){const d=t,c=w(),o=h(()=>d.card.id===B.value.editingCardId),n=x({title:d.card.title});async function v(){o.value=!0,await I(),c.value.focus()}function l(){n.put(route("cards.update",{card:d.card.id}),{onSuccess:()=>{o.value.focus()}})}return(g,e)=>(i(),u("li",null,[r("div",D,[o.value?(i(),u("form",{key:0,class:"p-2.5",onKeydown:e[3]||(e[3]=f(s=>o.value=!1,["esc"])),onSubmit:e[4]||(e[4]=m(s=>l(),["prevent"]))},[y(r("textarea",{ref_key:"inputTitleRef",ref:c,"onUpdate:modelValue":e[0]||(e[0]=s=>a(n).title=s),class:"block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-400 focus:ring-blue-400",placeholder:"Enter card title...",rows:"3",onKeydown:e[1]||(e[1]=f(m(s=>l(),["prevent"]),["enter"]))},null,544),[[k,a(n).title]]),r("div",L,[M,r("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-black rounded-md focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 focus:outline-none",type:"button",onClick:e[2]||(e[2]=s=>o.value=!1)},"Cancel ")])],32)):p("",!0),o.value?p("",!0):(i(),u(C,{key:1},[b(a($),{class:"text-sm block p-2.5",href:g.route("boards.show",{board:t.card.board_id,card:t.card.id}),"preserve-state":""},{default:S(()=>[T(V(t.card.title),1)]),_:1},8,["href"]),r("button",{class:"hidden absolute top-1 right-1 w-8 h-8 bg-gray-50 group-hover:grid place-content-center rounded-md text-gray-600 hover:text-black hover:bg-gray-200",onClick:e[5]||(e[5]=s=>v())},[b(a(K),{class:"w-5 h-5"})])],64))])]))}},q=E(R,[["__scopeId","data-v-c4d7c6dd"]]);export{q as default};
