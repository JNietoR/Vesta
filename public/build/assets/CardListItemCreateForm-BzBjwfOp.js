import{m as C,h as w,T as y,o as d,f as l,bE as c,e as f,i as k,C as h,u as s,b as o,g as p,a as F,F as I,G as T}from"./app-BbGHnGNq.js";import{s as i}from"./store-DIHqlp_n.js";import{r as _}from"./PlusIcon-Bkb3dT8Q.js";const $={class:"mt-2 space-x-2"},S=o("button",{class:"px-4 py-2 text-sm font-medium text-white bg-rose-600 hover:bg-rose-500 rounded-md shadow-sm focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 focus:outline-none",type:"submit"},"Add card ",-1),V=o("span",{class:"ml-1"},"Add Card",-1),A={__name:"CardListItemCreateForm",props:{list:Object},emits:["created"],setup(b,{emit:g}){const r=b,v=g,a=C(),u=w(()=>r.list.id===i.value.listCreatingCardId),n=y({title:"",card_list_id:r.list.id,board_id:r.list.board_id});async function x(){i.value.listCreatingCardId=r.list.id,await T(),a.value.focus()}function m(){n.post(route("cards.store"),{onSuccess:()=>{n.reset(),a.value.focus(),v("created")}})}return(B,e)=>(d(),l(I,null,[u.value?(d(),l("form",{key:0,onKeydown:e[3]||(e[3]=c(t=>s(i).listCreatingCardId=null,["esc"])),onSubmit:e[4]||(e[4]=f(t=>m(),["prevent"]))},[k(o("textarea",{ref_key:"inputTitleRef",ref:a,"onUpdate:modelValue":e[0]||(e[0]=t=>s(n).title=t),rows:"3",onKeydown:e[1]||(e[1]=c(f(t=>m(),["prevent"]),["enter"])),class:"block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-400 focus:ring-blue-400",placeholder:"Enter card title..."},null,544),[[h,s(n).title]]),o("div",$,[S,o("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-black rounded-md focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 focus:outline-none",type:"button",onClick:e[2]||(e[2]=t=>s(i).listCreatingCardId=null)},"Cancel ")])],32)):p("",!0),u.value?p("",!0):(d(),l("button",{key:1,onClick:e[5]||(e[5]=t=>x()),class:"flex items-center p-2 text-sm font-medium text-gray-600 hover:text-black hover:bg-gray-300 w-full rounded-md"},[F(s(_),{class:"h-5 w-5"}),V]))],64))}};export{A as default};
