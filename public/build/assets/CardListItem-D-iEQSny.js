import{o as n,f as i,b as o,m as w,h,T as x,bE as f,e as m,i as y,C as k,u as d,g as p,F as C,a as v,w as S,G as I,d as T,t as V,j as $,p as B,k as F}from"./app-BYrkml6f.js";import{s as M}from"./store-DebzcRF2.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";function _(t,a){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[o("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"})])}const E=t=>(B("data-v-c4d7c6dd"),t=t(),F(),t),K={class:"group relative bg-white shadow rounded-md border-b border-gray-300 hover:bg-gray-50"},L={class:"mt-2 space-x-2"},j=E(()=>o("button",{class:"px-4 py-2 text-sm font-medium text-white bg-rose-600 hover:bg-rose-500 rounded-md shadow-sm focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 focus:outline-none",type:"submit"},"Save card ",-1)),D={__name:"CardListItem",props:{card:Object},setup(t){const a=t,l=w(),r=h(()=>a.card.id===M.value.editingCardId),u=x({title:a.card.title});async function g(){r.value=!0,await I(),l.value.focus()}function c(){u.put(route("cards.update",{card:a.card.id}),{onSuccess:()=>{r.value.focus()}})}return(b,e)=>(n(),i("li",null,[o("div",K,[r.value?(n(),i("form",{key:0,class:"p-2.5",onKeydown:e[3]||(e[3]=f(s=>r.value=!1,["esc"])),onSubmit:e[4]||(e[4]=m(s=>c(),["prevent"]))},[y(o("textarea",{ref_key:"inputTitleRef",ref:l,"onUpdate:modelValue":e[0]||(e[0]=s=>d(u).title=s),class:"block w-full text-sm rounded-md border-gray-300 shadow-sm focus:border-blue-400 focus:ring-blue-400",placeholder:"Enter card title...",rows:"3",onKeydown:e[1]||(e[1]=f(m(s=>c(),["prevent"]),["enter"]))},null,544),[[k,d(u).title]]),o("div",L,[j,o("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-black rounded-md focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 focus:outline-none",type:"button",onClick:e[2]||(e[2]=s=>r.value=!1)},"Cancel ")])],32)):p("",!0),r.value?p("",!0):(n(),i(C,{key:1},[v(d($),{class:"text-sm block p-2.5",href:b.route("boards.show",{board:t.card.board_id,card:t.card.id}),"preserve-state":""},{default:S(()=>[T(V(t.card.title),1)]),_:1},8,["href"]),o("button",{class:"hidden absolute top-1 right-1 w-8 h-8 bg-gray-50 group-hover:grid place-content-center rounded-md text-gray-600 hover:text-black hover:bg-gray-200",onClick:e[5]||(e[5]=s=>g())},[v(d(_),{class:"w-5 h-5"})])],64))])]))}},O=N(D,[["__scopeId","data-v-c4d7c6dd"]]);export{O as default};
